DROP TABLE "AOP_REPORT_CONFIG_LANG";
--------------------------------------------------------
--  DDL for Table AOP_REPORT_CONFIG_LANG
--------------------------------------------------------

  CREATE TABLE "AOP_REPORT_CONFIG_LANG" (
      "ID" NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE 
    , "REPORT_ID" NUMBER
    , "REPORT_LANG_ID" NUMBER
    , "REPORT_NAME" VARCHAR2(400) COLLATE "USING_NLS_COMP"
    , "FILENAME" VARCHAR2(400) COLLATE "USING_NLS_COMP"
    , "MIME_TYPE" VARCHAR2(255) COLLATE "USING_NLS_COMP"
    , "REPORT" BLOB
    , "DOWNLOAD_FILENAME" VARCHAR2(400) COLLATE "USING_NLS_COMP"
    , "DOWNLOAD_MIME_TYPE" VARCHAR2(255) COLLATE "USING_NLS_COMP"
    , "CREATED" DATE
    , "CREATED_BY" VARCHAR2(60) COLLATE "USING_NLS_COMP"
    , "MODIFIED" DATE
    , "MODIFIED_BY" VARCHAR2(60) COLLATE "USING_NLS_COMP"
    )  DEFAULT COLLATION "USING_NLS_COMP";

   COMMENT ON TABLE "AOP_REPORT_CONFIG_LANG" IS 'Table to create the report configuration by language';
   COMMENT ON COLUMN "AOP_REPORT_CONFIG_LANG"."ID" IS 'Unique ID for the record';
   COMMENT ON COLUMN "AOP_REPORT_CONFIG_LANG"."REPORT_ID" IS 'Foreign key to the report configuration';
   COMMENT ON COLUMN "AOP_REPORT_CONFIG_LANG"."REPORT_LANG_ID" IS 'Foreign key to the language';
   COMMENT ON COLUMN "AOP_REPORT_CONFIG_LANG"."REPORT_NAME" IS 'Report name in the language';
   COMMENT ON COLUMN "AOP_REPORT_CONFIG_LANG"."FILENAME" IS 'Report file name in the language';
   COMMENT ON COLUMN "AOP_REPORT_CONFIG_LANG"."MIME_TYPE" IS 'Report mime type in the language';
   COMMENT ON COLUMN "AOP_REPORT_CONFIG_LANG"."REPORT" IS 'Report template in the language';
   COMMENT ON COLUMN "AOP_REPORT_CONFIG_LANG"."DOWNLOAD_FILENAME" IS 'Report download file name, needs to include the extension';
   COMMENT ON COLUMN "AOP_REPORT_CONFIG_LANG"."DOWNLOAD_MIME_TYPE" IS 'Report download mime type';
   COMMENT ON COLUMN "AOP_REPORT_CONFIG_LANG"."CREATED" IS 'Date and time the record was created';
   COMMENT ON COLUMN "AOP_REPORT_CONFIG_LANG"."CREATED_BY" IS 'User who created the record';
   COMMENT ON COLUMN "AOP_REPORT_CONFIG_LANG"."MODIFIED" IS 'Date and time the record was last modified';
   COMMENT ON COLUMN "AOP_REPORT_CONFIG_LANG"."MODIFIED_BY" IS 'User who last modified the record';

--------------------------------------------------------
--  DDL for Index ID_SPC_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "AOP_REPORT_CONFIG_LANG_PK" ON "AOP_REPORT_CONFIG_LANG" ("ID");
--------------------------------------------------------
--  DDL for Index AOP_REPORT_CONFIG_LANG_UK1
--------------------------------------------------------

  CREATE UNIQUE INDEX "AOP_REPORT_CONFIG_LANG_UK1" ON "AOP_REPORT_CONFIG_LANG" ("REPORT_ID", "REPORT_LANG_ID");
--------------------------------------------------------
--  DDL for Index AOP_REPORT_CONFIG_LANG_IDX1
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "AOP_REPORT_CONFIG_LANG_BIU" 
    before insert or update  
    on AOP_REPORT_CONFIG_LANG 
    for each row
begin
    if inserting and :new.created is null then
        :new.created    := sysdate; 
        :new.created_by := nvl(sys_context('APEX$SESSION','APP_USER'),user); 
    end if; 
    :new.modified    := sysdate; 
    :new.modified_by := nvl(sys_context('APEX$SESSION','APP_USER'),user); 
end AOP_REPORT_CONFIG_LANG_BIU;
/
ALTER TRIGGER "AOP_REPORT_CONFIG_LANG_BIU" ENABLE;
--------------------------------------------------------
--  Constraints for Table AOP_REPORT_CONFIG_LANG
--------------------------------------------------------

  ALTER TABLE "AOP_REPORT_CONFIG_LANG" MODIFY ("REPORT_ID" NOT NULL ENABLE);
  ALTER TABLE "AOP_REPORT_CONFIG_LANG" MODIFY ("REPORT_LANG_ID" NOT NULL ENABLE);
  ALTER TABLE "AOP_REPORT_CONFIG_LANG" MODIFY ("REPORT_NAME" NOT NULL ENABLE);
  ALTER TABLE "AOP_REPORT_CONFIG_LANG" MODIFY ("FILENAME" NOT NULL ENABLE);
  ALTER TABLE "AOP_REPORT_CONFIG_LANG" MODIFY ("MIME_TYPE" NOT NULL ENABLE);
  ALTER TABLE "AOP_REPORT_CONFIG_LANG" MODIFY ("REPORT" NOT NULL ENABLE);
  ALTER TABLE "AOP_REPORT_CONFIG_LANG" MODIFY ("DOWNLOAD_FILENAME" NOT NULL ENABLE);
  ALTER TABLE "AOP_REPORT_CONFIG_LANG" MODIFY ("DOWNLOAD_MIME_TYPE" NOT NULL ENABLE);
  ALTER TABLE "AOP_REPORT_CONFIG_LANG" MODIFY ("CREATED" NOT NULL ENABLE);
  ALTER TABLE "AOP_REPORT_CONFIG_LANG" MODIFY ("CREATED_BY" NOT NULL ENABLE);
  ALTER TABLE "AOP_REPORT_CONFIG_LANG" MODIFY ("MODIFIED" NOT NULL ENABLE);
  ALTER TABLE "AOP_REPORT_CONFIG_LANG" MODIFY ("MODIFIED_BY" NOT NULL ENABLE);

  ALTER TABLE "AOP_REPORT_CONFIG_LANG" ADD CONSTRAINT "AOP_REPORT_CONFIG_LANG_PK" PRIMARY KEY ("ID") USING INDEX "AOP_REPORT_CONFIG_LANG_PK"  ENABLE;
  ALTER TABLE "AOP_REPORT_CONFIG_LANG" ADD CONSTRAINT "AOP_REPORT_CONFIG_LANG_UK1" UNIQUE ("REPORT_ID", "REPORT_LANG_ID") USING INDEX "AOP_REPORT_CONFIG_LANG_UK1"  ENABLE;

--------------------------------------------------------
--  Ref Constraints for Table AOP_REPORT_CONFIG_LANG
--------------------------------------------------------

  ALTER TABLE "AOP_REPORT_CONFIG_LANG" ADD CONSTRAINT "AOP_REPORT_CONFIG_LANG_FK1" FOREIGN KEY ("REPORT_ID") REFERENCES "AOP_REPORT_CONFIG" ("ID") ENABLE;
  ALTER TABLE "AOP_REPORT_CONFIG_LANG" ADD CONSTRAINT "AOP_REPORT_CONFIG_LANG_FK2" FOREIGN KEY ("REPORT_LANG_ID") REFERENCES "SPC_LANG" ("ID") ENABLE;

